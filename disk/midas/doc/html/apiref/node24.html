<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Functions</TITLE>
<META NAME="description" CONTENT="Functions">
<META NAME="keywords" CONTENT="apiref">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="apiref.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html510" HREF="node25.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif"></A> <A NAME="tex2html508" HREF="node21.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif"></A> <A NAME="tex2html504" HREF="node23.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif"></A> <A NAME="tex2html512" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html511" HREF="node25.html">7 Miscellaneous</A>
<B>Up:</B> <A NAME="tex2html509" HREF="node21.html">6 Stream playback</A>
<B> Previous:</B> <A NAME="tex2html505" HREF="node23.html">Data types</A>
<BR> <P>
<H1><A NAME="SECTION00730000000000000000">Functions</A></H1>
<P>
This section describes all functions available for MIDAS stream playback.
<P>
<BR> <HR><A NAME="MIDASfeedStreamData">&#160;</A><H2><A NAME="SECTION00731000000000000000">6.3.1 MIDASfeedStreamData</A></H2>
<A NAME="2489">&#160;</A> <PRE>unsigned MIDASfeedStreamData(MIDASstreamHandle stream,
    unsigned char *data, unsigned numBytes, BOOL feedAll);</PRE>
<P>
Feeds sound data to a digital audio stream buffer.
<P>
<H3><A NAME="SECTION00731100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> The stream that will play the data
    <DT><STRONG>data</STRONG>
<DD> Pointer to sound data
    <DT><STRONG>numBytes</STRONG>
<DD> Number of bytes of sound data available
    <DT><STRONG>feedAll</STRONG>
<DD> TRUE if the function should block until all sound data can
        be fed
<P>
</DL><H3><A NAME="SECTION00731200000000000000">Description</A></H3>
<P>
This function is used to feed sample data to a stream that has been started
with <A HREF="node24.html#MIDASplayStreamPolling">MIDASplayStreamPolling</A>. Up to <B>numBytes</B> bytes of
new sample data from <B>*data</B> will be copied to the stream
buffer, and the stream buffer write position is updated accordingly. The
function returns the number of bytes of sound data actually used. If
<B>feedAll</B> is TRUE, the function will block the current thread
of execution until all sound data is used.
<P>
<H3><A NAME="SECTION00731300000000000000">Return value</A></H3>
<P>
The number of bytes of sound data actually used.
<P>
<H3><A NAME="SECTION00731400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00731500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASplayStreamPolling">MIDASplayStreamPolling</A>
<P>
<BR> <HR><A NAME="MIDASgetStreamBytesBuffered">&#160;</A><H2><A NAME="SECTION00732000000000000000">6.3.2 MIDASgetStreamBytesBuffered</A></H2>
<A NAME="2503">&#160;</A> <PRE>DWORD MIDASgetStreamBytesBuffered(MIDASstreamHandle stream)</PRE>
<P>
Gets the number of bytes of stream currently buffered.
<P>
<H3><A NAME="SECTION00732100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> The stream handle
<P>
</DL><H3><A NAME="SECTION00732200000000000000">Description</A></H3>
<P>
This function returns the number of bytes of sound data currently stored
in the stream buffer. It can be used to monitor the stream playback, and
possibly prepare to feed extra data if the figure gets too low.
<P>
<H3><A NAME="SECTION00732300000000000000">Return value</A></H3>
<P>
The number of bytes of sound data currently buffered.
<P>
<H3><A NAME="SECTION00732400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00732500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASfeedStreamData">MIDASfeedStreamData</A>
<P>
<BR> <HR><A NAME="MIDASpauseStream">&#160;</A><H2><A NAME="SECTION00733000000000000000">6.3.3 MIDASpauseStream</A></H2>
<A NAME="2510">&#160;</A> <PRE>BOOL MIDASpauseStream(MIDASstreamHandle stream)</PRE>
<P>
Pauses stream playback.
<P>
<H3><A NAME="SECTION00733100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> The stream to pause
<P>
</DL><H3><A NAME="SECTION00733200000000000000">Description</A></H3>
<P>
This function pauses the playback of a stream. When a stream is paused,
stream data can be fed normally with <A HREF="node24.html#MIDASfeedStreamData">MIDASfeedStreamData</A>, but
nothing will actually be played. Playback can be resumed
with <A HREF="node24.html#MIDASresumeStream">MIDASresumeStream</A>.
<P>
<H3><A NAME="SECTION00733300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION00733400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00733500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASresumeStream">MIDASresumeStream</A>, <A HREF="node24.html#MIDASfeedStreamData">MIDASfeedStreamData</A>
<P>
<BR> <HR><A NAME="MIDASplayStreamFile">&#160;</A><H2><A NAME="SECTION00734000000000000000">6.3.4 MIDASplayStreamFile</A></H2>
<A NAME="2529">&#160;</A> <PRE>MIDASstreamHandle MIDASplayStreamFile(char *fileName, 
    unsigned sampleType, unsigned sampleRate,
    unsigned bufferLength, int loopStream)</PRE>
<P>
Starts playing a digital audio stream from a file.
<P>
<H3><A NAME="SECTION00734100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>fileName</STRONG>
<DD> Stream file name
    <DT><STRONG>sampleType</STRONG>
<DD> Stream sample type, see <TT>enum</TT>
        <A HREF="node18.html#MIDASsampleTypes">MIDASsampleTypes</A>
    <DT><STRONG>sampleRate</STRONG>
<DD> Stream sample rate
    <DT><STRONG>bufferLength</STRONG>
<DD> Stream playback buffer length in milliseconds
    <DT><STRONG>loopStream</STRONG>
<DD> 1 if the stream should be looped, 0 if not
<P>
</DL><H3><A NAME="SECTION00734200000000000000">Description</A></H3>
<P>
This function starts playing a digital audio stream from a file. The
file must contain raw audio data with no headers -- to play WAVE files,
use <A HREF="node24.html#MIDASplayStreamWaveFile">MIDASplayStreamWaveFile</A>. The function allocates
the stream buffer, creates a new thread that will read sample data from the
file to the stream buffer, and starts the Sound Device to play the stream.
The stream will continue playing until it is stopped with
<A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>. A Sound Device channel will be automatically
allocated for the stream.
<P>
The stream buffer length should be at least around 500ms if the stream file
is being read from a disc, to avoid breaks in stream playback
<P>
<H3><A NAME="SECTION00734300000000000000">Return value</A></H3>
<P>
MIDAS stream handle if successful, NULL if failed.
<P>
<H3><A NAME="SECTION00734400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00734500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASplayStreamWaveFile">MIDASplayStreamWaveFile</A>, <A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>
<P>
<BR> <HR><A NAME="MIDASplayStreamWaveFile">&#160;</A><H2><A NAME="SECTION00735000000000000000">6.3.5 MIDASplayStreamWaveFile</A></H2>
<A NAME="2553">&#160;</A> <PRE>MIDASstreamHandle MIDASplayStreamWaveFile(char *fileName, 
    unsigned bufferLength, int loopStream)</PRE>
<P>
Starts playing a digital audio stream from a RIFF WAVE file.
<P>
<H3><A NAME="SECTION00735100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>fileName</STRONG>
<DD> Stream file name
    <DT><STRONG>bufferLength</STRONG>
<DD> Stream playback buffer length in milliseconds
    <DT><STRONG>loopStream</STRONG>
<DD> 1 if the stream should be looped, 0 if not
<P>
</DL><H3><A NAME="SECTION00735200000000000000">Description</A></H3>
<P>
This function starts playing a digital audio stream from a file. The
file must be a standard RIFF WAVE (<TT>.wav</TT>) sound file
containing raw PCM sound data -- compressed WAVE files are not
supported. The function allocates
the stream buffer, creates a new thread that will read sample data from the
file to the stream buffer, and starts the Sound Device to play the stream.
The stream will continue playing until it is stopped with
<A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>. A Sound Device channel will be automatically
allocated for the stream.
<P>
The stream buffer length should be at least around 500ms if the stream file
is being read from a disk, to avoid breaks in stream playback
<P>
<H3><A NAME="SECTION00735300000000000000">Return value</A></H3>
<P>
MIDAS stream handle if successful, NULL if failed.
<P>
<H3><A NAME="SECTION00735400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00735500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASplayStreamFile">MIDASplayStreamFile</A>, <A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>
<P>
<BR> <HR><A NAME="MIDASplayStreamPolling">&#160;</A><H2><A NAME="SECTION00736000000000000000">6.3.6 MIDASplayStreamPolling</A></H2>
<A NAME="2569">&#160;</A> <PRE>MIDASstreamHandle MIDASplayStreamPolling(unsigned sampleType, 
    unsigned sampleRate, unsigned bufferLength)</PRE>
<P>
Starts playing a digital audio stream in polling mode.
<P>
<H3><A NAME="SECTION00736100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>sampleType</STRONG>
<DD> Stream sample type, see <TT>enum</TT>
        <A HREF="node18.html#MIDASsampleTypes">MIDASsampleTypes</A>
    <DT><STRONG>sampleRate</STRONG>
<DD> Stream sample rate
    <DT><STRONG>bufferLength</STRONG>
<DD> Stream playback buffer length in milliseconds
<P>
</DL><H3><A NAME="SECTION00736200000000000000">Description</A></H3>
<P>
This function starts playing a digital audio stream in polling mode. It
allocates and empty stream buffer, and starts the Sound Device to play the
stream. Sample data can be fed to the stream buffer with
<A HREF="node24.html#MIDASfeedStreamData">MIDASfeedStreamData</A>. The stream will continue playing until it is
stopped with <A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>. This function will automatically
allocate a Sound Device channel for the stream.
<P>
To avoid breaks in playback, the stream buffer size should be at least twice
the expected polling period. That is, if you will be feeding data 5 times
per second (every 200ms), the buffer should be at least 400ms long.
<P>
<H3><A NAME="SECTION00736300000000000000">Return value</A></H3>
<P>
MIDAS stream handle if successful, NULL if failed.
<P>
<H3><A NAME="SECTION00736400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00736500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASstopStream">MIDASstopStream</A>, <A HREF="node24.html#MIDASfeedStreamData">MIDASfeedStreamData</A>
<P>
<BR> <HR><A NAME="MIDASresumeStream">&#160;</A><H2><A NAME="SECTION00737000000000000000">6.3.7 MIDASresumeStream</A></H2>
<A NAME="2593">&#160;</A> <PRE>BOOL MIDASresumeStream(MIDASstreamHandle stream)</PRE>
<P>
Resumes stream playback after pause.
<P>
<H3><A NAME="SECTION00737100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> The stream to resume
<P>
</DL><H3><A NAME="SECTION00737200000000000000">Description</A></H3>
<P>
This function resumes the playback of a stream that has been paused with
<A HREF="node24.html#MIDASpauseStream">MIDASpauseStream</A>.
<P>
<H3><A NAME="SECTION00737300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION00737400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00737500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASpauseStream">MIDASpauseStream</A>
<P>
<BR> <HR><A NAME="MIDASsetStreamPanning">&#160;</A><H2><A NAME="SECTION00738000000000000000">6.3.8 MIDASsetStreamPanning</A></H2>
<A NAME="2604">&#160;</A> <PRE>BOOL MIDASsetStreamPanning(MIDASstreamHandle stream,
    int panning);</PRE>
<P>
Changes stream panning position.
<P>
<H3><A NAME="SECTION00738100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> Stream handle for the stream
    <DT><STRONG>panning</STRONG>
<DD> New panning position for the stream
<P>
</DL><H3><A NAME="SECTION00738200000000000000">Description</A></H3>
<P>
This function changes the panning position for a stream that is being played.
The initial volume is 0 (center). See description of <TT>enum</TT>
<A HREF="node18.html#MIDASpanning">MIDASpanning</A> for information about the panning position values.
<P>
<H3><A NAME="SECTION00738300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION00738400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00738500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASsetStreamVolume">MIDASsetStreamVolume</A>, <A HREF="node24.html#MIDASsetStreamRate">MIDASsetStreamRate</A>
<P>
<BR> <HR><A NAME="MIDASsetStreamRate">&#160;</A><H2><A NAME="SECTION00739000000000000000">6.3.9 MIDASsetStreamRate</A></H2>
<A NAME="2620">&#160;</A> <PRE>BOOL MIDASsetStreamRate(MIDASstreamHandle stream,
    unsigned rate);</PRE>
<P>
Changes stream playback sample rate.
<P>
<H3><A NAME="SECTION00739100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> Stream handle for the stream
    <DT><STRONG>rate</STRONG>
<DD> New playback sample rate for the stream, in Hertz.
<P>
</DL><H3><A NAME="SECTION00739200000000000000">Description</A></H3>
<P>
This function changes the playback sample rate for a stream that is being
played. The initial sample rate is given as an argument to the function that
starts stream playback.
<P>
Note that the stream playback buffer size is calculated based on the initial
sample rate, so the stream sample rate should not be changed very far from
that figure. In particular, playback sample rates over two times the initial
value may cause breaks in stream playback. Too low rates, on the other hand,
will increase latency.
<P>
<H3><A NAME="SECTION00739300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION00739400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION00739500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASsetStreamVolume">MIDASsetStreamVolume</A>, <A HREF="node24.html#MIDASsetStreamPanning">MIDASsetStreamPanning</A>
<P>
<BR> <HR><A NAME="MIDASsetStreamVolume">&#160;</A><H2><A NAME="SECTION007310000000000000000">6.3.10 MIDASsetStreamVolume</A></H2>
<A NAME="2631">&#160;</A> <PRE>BOOL MIDASsetStreamVolume(MIDASstreamHandle stream,
    unsigned volume);</PRE>
<P>
Changes stream playback volume.
<P>
<H3><A NAME="SECTION007310100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> Stream handle for the stream
    <DT><STRONG>volume</STRONG>
<DD> New volume for the stream, 0-64.
<P>
</DL><H3><A NAME="SECTION007310200000000000000">Description</A></H3>
<P>
This function changes the playback volume for a stream that is being
played. The initial volume is 64 (maximum).
<P>
<H3><A NAME="SECTION007310300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION007310400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION007310500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASsetStreamRate">MIDASsetStreamRate</A>, <A HREF="node24.html#MIDASsetStreamPanning">MIDASsetStreamPanning</A>
<P>
<BR> <HR><A NAME="MIDASstopStream">&#160;</A><H2><A NAME="SECTION007311000000000000000">6.3.11 MIDASstopStream</A></H2>
<A NAME="2642">&#160;</A> <PRE>BOOL MIDASstopStream(MIDASstreamHandle stream)</PRE>
<P>
Stops playing a digital audio stream.
<P>
<H3><A NAME="SECTION007311100000000000000">Input</A></H3>
<P>
<DL ><DT><STRONG>stream</STRONG>
<DD> The stream that will be stopped
<P>
</DL><H3><A NAME="SECTION007311200000000000000">Description</A></H3>
<P>
This function stops playing a digital audio stream. It stops the stream
player thread, deallocates the stream buffer, closes the stream file (if
playing from a file) and deallocates the stream playback channel.
<P>
<H3><A NAME="SECTION007311300000000000000">Return value</A></H3>
<P>
TRUE if successful, FALSE if not.
<P>
<H3><A NAME="SECTION007311400000000000000">Operating systems</A></H3>
<P>
Win32, Linux
<P>
<H3><A NAME="SECTION007311500000000000000">See also</A></H3>
<P>
<A HREF="node24.html#MIDASplayStreamFile">MIDASplayStreamFile</A>, <A HREF="node24.html#MIDASplayStreamPolling">MIDASplayStreamPolling</A>
<P>
<HR><A NAME="tex2html510" HREF="node25.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif"></A> <A NAME="tex2html508" HREF="node21.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif"></A> <A NAME="tex2html504" HREF="node23.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif"></A> <A NAME="tex2html512" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif"></A>  <BR>
<B> Next:</B> <A NAME="tex2html511" HREF="node25.html">7 Miscellaneous</A>
<B>Up:</B> <A NAME="tex2html509" HREF="node21.html">6 Stream playback</A>
<B> Previous:</B> <A NAME="tex2html505" HREF="node23.html">Data types</A>
<P><ADDRESS>
<I>Petteri Kangaslampi <BR>
Sun Mar  1 22:15:08 EET 1998</I>
</ADDRESS>
</BODY>
</HTML>
